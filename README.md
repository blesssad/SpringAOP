# Открытая школа разработки T1 
# First Task

Задание: Реализация системы учета времени выполнения методов

Описание:
Вам предстоит разработать систему учета времени выполнения методов в приложении с использованием Spring AOP.
Система должна быть способна асинхронно логировать и анализировать данные о времени выполнения методов.

Требования:

Создайте аннотации @TrackTime и @TrackAsyncTime, которые можно применять к методам для отслеживания времени их выполнения.
Реализуйте аспекты, используя Spring AOP, для асинхронного и синхронного отслеживания времени выполнения методов, помеченных соответствующими аннотациями.
Создайте сервис, который будет асинхронно сохранять данные о времени выполнения методов в базе данных.
Реализуйте REST API для получения статистики по времени выполнения методов (например, среднее время выполнения, общее время выполнения) для различных методов и их групп.
Настройте приложение с помощью конфигурации Spring для включения использования AOP и асинхронной обработки данных.

## Реализация

1) Аннотации @TrackTime и @TrackAsyncTime, которая с помощью CompletableFuture асинхронно выполняет и логирует метод
2) Реализован Rest Controller для сбора информации о времени выполнения методов
3) BookService - сервис в котором хранится мапа книг + методы для различного взаимодействия с ней.
4) Добавлен Swagger
5) Использованы flyway миграции для удобного создания базы данных

## Сборка и запуск

1. Склонируйте репозиторий:

    ```bash
    git clone https://github.com/blesssad/VK_Task
    ```

2. Далее необходимо поменять настройки для создания базы данных:
- Перейдите в VK_Task/src/main/resources и отредактируйте application.properties.
- Смените username и password.
- Также можно поменять url, по умолчанию это t1school.


## Эндпоинты

- localhost:8080/swagger-ui/index.html 
- localhost:8080/time/{className}/{methodName} - возвращает информацию о времени выполнения конкретного метода 
- localhost:8080/time/{methodName} - возвращает информацию о времени выполнения всех методов с одинаковым названием
- localhost:8080/time/avgtime/{className}/{methodName} - возвращает среднее время выполнения метода
- localhost:8080/time/total/{className} - возвращает общее время выполнения всех методов в классе
